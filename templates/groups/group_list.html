{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center">
  <h3>我的群組</h3>
  <a href="{% url 'group_create' %}" class="btn btn-primary">＋ 新增群組</a>
</div>
<hr>
<ul class="list-group">
  {% for g in groups %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <a href="{% url 'group_detail' g.id %}">{{ g.name }}</a>
        <small class="text-muted ms-2">擁有者：{{ g.owner.email }}</small>
      </div>
      <div class="btn-group">
        <a href="{% url 'group_update' g.id %}" class="btn btn-sm btn-outline-secondary">編輯</a>
        <a href="{% url 'group_members' g.id %}" class="btn btn-sm btn-outline-info">成員管理</a>
        {% if g.owner_id == request.user.id %}
          <a href="{% url 'group_delete' g.id %}" class="btn btn-sm btn-outline-danger">刪除</a>
        {% endif %}
      </div>
    </li>
  {% empty %}
    <li class="list-group-item">尚無群組</li>
  {% endfor %}
</ul>
{% endblock %}
