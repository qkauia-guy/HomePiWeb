<!-- markdownlint-disable -->

1. 前往[HomePiWed 專案](https://github.com/qkauia-guy/HomePiWeb)
2. 下載專案到本地電腦(C:\Users\職前\HomePiWeb\pi_agent)

![20250827152229](https://raw.githubusercontent.com/qkauia-guy/note_pic/main/20250827152229.png)

3. 建立本地虛擬環境

4. **windows** 開啟 `Anaconda Powershell`
5. `cd 專案目錄`
6. `conda env create -f environment_windows.yml` ( mac 使用者 使用`environment.yml` )
   > Conda 需要在 environment.yml 檔案所在的目錄中才能讀取它。
7. `conda env list` 確認有沒有建立成功 HomePiWeb 虛擬環境
8. `conda activate HomePiWeb`
9. ```bash
   python manage.py makemigrations
   python manage.py migrate
   ```

10. `python manage.py shell`
11. **裝置序號 和 裝置 token 要記下來備用**

    ```python
    from pi_devices.models import Device
    # 建立一筆新裝置
    d = Device.objects.create()

    print(d.serial_number)      # 系統自動產生的序號
    print(d.token)              # 自動產生的 Token

    #print(d.verification_code)  # 自動產生的驗證碼
    #print(d.id)                 # 新增後的 ID

    # 進行轉換成註冊頁面QR CODE png
    from pi_devices.utils.qrcode_utils import generate_device_qrcode
    file_path = generate_device_qrcode(d)
    print("QR Code 已儲存於：", file_path)
    ```

12. `python manage.py runserver 0.0.0.0:8000` 本地進行註冊和綁定裝置 (掃 QRCODE)


#### [下一步:02樹梅派環境設定](02樹梅派環境設定.md)